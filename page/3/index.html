<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>Joey</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Joey">
<meta property="og:url" content="http://fangchenyong.top/page/3/index.html">
<meta property="og:site_name" content="Joey">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Joey">
  
    <link rel="alternate" href="/atom.xml" title="Joey" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Joey</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">首页</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://fangchenyong.top"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-JS-二维码扫描下载APP" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/25/JS-二维码扫描下载APP/" class="article-date">
  <time datetime="2019-07-24T16:00:00.000Z" itemprop="datePublished">2019-07-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/25/JS-二维码扫描下载APP/">二维码扫描下载APP页面</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="二维码扫描下载APP页面"><a href="#二维码扫描下载APP页面" class="headerlink" title="二维码扫描下载APP页面"></a>二维码扫描下载APP页面</h1><p><strong>将该页面链接转成二维码即可实现扫描同一个二维码下载苹果或者安卓APP</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>APP下载<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line">        /*</span><br><span class="line">         * 智能机浏览器版本信息:</span><br><span class="line">         *</span><br><span class="line">         */</span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> browser = &#123;</span></span><br><span class="line"><span class="javascript">            versions: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> u = navigator.userAgent, app = navigator.appVersion;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> &#123;<span class="comment">//移动终端浏览器版本信息</span></span></span><br><span class="line"><span class="javascript">                    trident: u.indexOf(<span class="string">'Trident'</span>) &gt; <span class="number">-1</span>, <span class="comment">//IE内核</span></span></span><br><span class="line"><span class="javascript">                    presto: u.indexOf(<span class="string">'Presto'</span>) &gt; <span class="number">-1</span>, <span class="comment">//opera内核</span></span></span><br><span class="line"><span class="javascript">                    webKit: u.indexOf(<span class="string">'AppleWebKit'</span>) &gt; <span class="number">-1</span>, <span class="comment">//苹果、谷歌内核</span></span></span><br><span class="line"><span class="javascript">                    gecko: u.indexOf(<span class="string">'Gecko'</span>) &gt; <span class="number">-1</span> &amp;&amp; u.indexOf(<span class="string">'KHTML'</span>) == <span class="number">-1</span>, <span class="comment">//火狐内核</span></span></span><br><span class="line"><span class="javascript">                    mobile: !!u.match(<span class="regexp">/AppleWebKit.*Mobile.*/</span>) || !!u.match(<span class="regexp">/AppleWebKit/</span>), <span class="comment">//是否为移动终端</span></span></span><br><span class="line"><span class="javascript">                    ios: !!u.match(<span class="regexp">/\(i[^;]+;( U;)? CPU.+Mac OS X/</span>), <span class="comment">//ios终端</span></span></span><br><span class="line"><span class="javascript">                    android: u.indexOf(<span class="string">'Android'</span>) &gt; <span class="number">-1</span> || u.indexOf(<span class="string">'Linux'</span>) &gt; <span class="number">-1</span>, <span class="comment">//android终端或者uc浏览器</span></span></span><br><span class="line"><span class="javascript">                    iPhone: u.indexOf(<span class="string">'iPhone'</span>) &gt; <span class="number">-1</span> || u.indexOf(<span class="string">'Mac'</span>) &gt; <span class="number">-1</span>, <span class="comment">//是否为iPhone或者QQHD浏览器</span></span></span><br><span class="line"><span class="javascript">                    iPad: u.indexOf(<span class="string">'iPad'</span>) &gt; <span class="number">-1</span>, <span class="comment">//是否iPad</span></span></span><br><span class="line"><span class="javascript">                    webApp: u.indexOf(<span class="string">'Safari'</span>) == <span class="number">-1</span> <span class="comment">//是否web应该程序，没有头部与底部</span></span></span><br><span class="line">                &#125;;</span><br><span class="line">            &#125;(),</span><br><span class="line">            language: (navigator.browserLanguage || navigator.language).toLowerCase()</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (browser.versions.ios || browser.versions.iPhone || browser.versions.iPad) &#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//  此处写ios的下载地址，从AppStore获取              </span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.location = <span class="string">""</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="keyword">else</span> <span class="keyword">if</span> (browser.versions.android) &#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 此处写Andoird 的下载地址               </span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.location = <span class="string">""</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.writeln(<span class="string">"语言版本: "</span> + browser.language);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.writeln(<span class="string">" 是否为移动终端: "</span> + browser.versions.mobile);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.writeln(<span class="string">" ios终端: "</span> + browser.versions.ios);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.writeln(<span class="string">" android终端: "</span> + browser.versions.android);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.writeln(<span class="string">" 是否为iPhone: "</span> + browser.versions.iPhone);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.writeln(<span class="string">" 是否iPad: "</span> + browser.versions.iPad);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.writeln(navigator.userAgent);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://fangchenyong.top/2019/07/25/JS-二维码扫描下载APP/" data-id="ckmh9uci300023oume5gka88q" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/二维码/">二维码</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Linux-install_Redis5.0.3_cluster" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/23/Linux-install_Redis5.0.3_cluster/" class="article-date">
  <time datetime="2019-07-22T16:00:00.000Z" itemprop="datePublished">2019-07-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>►<a class="article-category-link" href="/categories/Linux/CentOS/">CentOS</a>►<a class="article-category-link" href="/categories/Linux/CentOS/Redis/">Redis</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/23/Linux-install_Redis5.0.3_cluster/">CentOS 7.2安装Redis 5.0.3集群</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="CentOS-7-2安装Redis-5-0-3集群"><a href="#CentOS-7-2安装Redis-5-0-3集群" class="headerlink" title="CentOS 7.2安装Redis 5.0.3集群"></a>CentOS 7.2安装Redis 5.0.3集群</h2><h4 id="1-安装redis-5-0（参考install-Redis5-0-3-md）"><a href="#1-安装redis-5-0（参考install-Redis5-0-3-md）" class="headerlink" title="1. 安装redis 5.0（参考install_Redis5.0.3.md）"></a>1. 安装redis 5.0（参考install_Redis5.0.3.md）</h4><h4 id="2-创建redis-cluster目录，方便管理我们创建的redis实例，复制之前安装好的redis为redis01"><a href="#2-创建redis-cluster目录，方便管理我们创建的redis实例，复制之前安装好的redis为redis01" class="headerlink" title="2. 创建redis-cluster目录，方便管理我们创建的redis实例，复制之前安装好的redis为redis01"></a>2. 创建redis-cluster目录，方便管理我们创建的redis实例，复制之前安装好的redis为redis01</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos redis]# mkdir redis-cluster</span><br><span class="line">[root@VM_0_5_centos redis]# ls</span><br><span class="line">log  redis-5.0.3  redis-5.0.3.tar.gz  redis-cluster</span><br><span class="line">[root@VM_0_5_centos redis]# cp -r redis-5.0.3 ./redis-cluster/redis01</span><br><span class="line">[root@VM_0_5_centos redis]# ls redis-cluster/</span><br><span class="line">redis01</span><br></pre></td></tr></table></figure>

<h4 id="3-修改redis01的配置文件"><a href="#3-修改redis01的配置文件" class="headerlink" title="3. 修改redis01的配置文件"></a>3. 修改redis01的配置文件</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos redis]# cd redis-cluster/redis01/</span><br><span class="line">[root@VM_0_5_centos redis01]# ls</span><br><span class="line">00-RELEASENOTES  COPYING  Makefile   redis.conf       runtest-sentinel  tests</span><br><span class="line">BUGS             deps     MANIFESTO  runtest          sentinel.conf     utils</span><br><span class="line">CONTRIBUTING     INSTALL  README.md  runtest-cluster  src</span><br><span class="line">[root@VM_0_5_centos redis01]# vim redis.conf</span><br></pre></td></tr></table></figure>

<h4 id="4-把-bind-127-0-0-1-给注释掉或者改为0-0-0-0，这里的bind指的是只有指定的网段才能远程访问这个redis"><a href="#4-把-bind-127-0-0-1-给注释掉或者改为0-0-0-0，这里的bind指的是只有指定的网段才能远程访问这个redis" class="headerlink" title="4. 把 bind 127.0.0.1 给注释掉或者改为0.0.0.0，这里的bind指的是只有指定的网段才能远程访问这个redis"></a>4. 把 bind 127.0.0.1 给注释掉或者改为0.0.0.0，这里的bind指的是只有指定的网段才能远程访问这个redis</h4><p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A41.png" alt="集群1"></p>
<h4 id="5-开启远程访问-protected-mode-no-和-修改端口-port-7001"><a href="#5-开启远程访问-protected-mode-no-和-修改端口-port-7001" class="headerlink" title="5. 开启远程访问 protected-mode no 和 修改端口 port 7001"></a>5. 开启远程访问 protected-mode no 和 修改端口 port 7001</h4><p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A42.png" alt="集群2"></p>
<h4 id="6-设置后台运行-daemonize-yes"><a href="#6-设置后台运行-daemonize-yes" class="headerlink" title="6. 设置后台运行 daemonize yes"></a>6. 设置后台运行 daemonize yes</h4><p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A43.png" alt="集群3"></p>
<h4 id="7-设置pidfile存放在-run目录下的文件名-pidfile-var-run-redis-7001-pid"><a href="#7-设置pidfile存放在-run目录下的文件名-pidfile-var-run-redis-7001-pid" class="headerlink" title="7. 设置pidfile存放在 run目录下的文件名  pidfile  /var/run/redis_7001.pid"></a>7. 设置pidfile存放在 run目录下的文件名  pidfile  /var/run/redis_7001.pid</h4><p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A44.png" alt="集群4"></p>
<h4 id="8-设置redis集群密码-masterauth-123456-和-requirepass-123456-注意：所有节点的密码都必须一致，masterauth也要加"><a href="#8-设置redis集群密码-masterauth-123456-和-requirepass-123456-注意：所有节点的密码都必须一致，masterauth也要加" class="headerlink" title="8. 设置redis集群密码 masterauth 123456 和 requirepass 123456       注意：所有节点的密码都必须一致，masterauth也要加"></a>8. 设置redis集群密码 masterauth 123456 和 requirepass 123456       注意：所有节点的密码都必须一致，masterauth也要加</h4><p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A45.1.png" alt="集群5.1"></p>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A45.2.png" alt="集群5.2"></p>
<h4 id="9-设置开启AOF模式-appendonly-yes"><a href="#9-设置开启AOF模式-appendonly-yes" class="headerlink" title="9. 设置开启AOF模式  appendonly yes"></a>9. 设置开启AOF模式  appendonly yes</h4><p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A46.png" alt="集群6"></p>
<h4 id="10-设置启用集群模式-cluster-enabled-yes，开启配置文件cluster-config-file-nodes-conf-，超时时间-cluster-node-timeout-5000"><a href="#10-设置启用集群模式-cluster-enabled-yes，开启配置文件cluster-config-file-nodes-conf-，超时时间-cluster-node-timeout-5000" class="headerlink" title="10. 设置启用集群模式 cluster-enabled yes，开启配置文件cluster-config-file nodes.conf ，超时时间 cluster-node-timeout 5000"></a>10. 设置启用集群模式 cluster-enabled yes，开启配置文件cluster-config-file nodes.conf ，超时时间 cluster-node-timeout 5000</h4><p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A47.png" alt="集群7"></p>
<h4 id="11-配置好后，拷贝-redis01再创建五个redis实例"><a href="#11-配置好后，拷贝-redis01再创建五个redis实例" class="headerlink" title="11. 配置好后，拷贝 redis01再创建五个redis实例"></a>11. 配置好后，拷贝 redis01再创建五个redis实例</h4><p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A48.png" alt="集群8"></p>
<h4 id="12-修改redis02-06的配置文件，修改端口号，修改pidfile存放文件名"><a href="#12-修改redis02-06的配置文件，修改端口号，修改pidfile存放文件名" class="headerlink" title="12. 修改redis02~06的配置文件，修改端口号，修改pidfile存放文件名"></a>12. 修改redis02~06的配置文件，修改端口号，修改pidfile存放文件名</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos redis-cluster]# vim redis02/redis.conf </span><br><span class="line">[root@VM_0_5_centos redis-cluster]# vim redis03/redis.conf </span><br><span class="line">[root@VM_0_5_centos redis-cluster]# vim redis04/redis.conf </span><br><span class="line">[root@VM_0_5_centos redis-cluster]# vim redis05/redis.conf </span><br><span class="line">[root@VM_0_5_centos redis-cluster]# vim redis06/redis.conf</span><br></pre></td></tr></table></figure>

<h4 id="13-在redis-cluster目录下，编写redis-start-all-sh启动脚本，启动redis实例"><a href="#13-在redis-cluster目录下，编写redis-start-all-sh启动脚本，启动redis实例" class="headerlink" title="13. 在redis-cluster目录下，编写redis_start_all.sh启动脚本，启动redis实例"></a>13. 在redis-cluster目录下，编写redis_start_all.sh启动脚本，启动redis实例</h4><p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A410.png" alt="集群10"></p>
<h4 id="14-刚创建好的启动脚本没有权限，会提示Permission-denied，所以需要给脚本添加可执行权限"><a href="#14-刚创建好的启动脚本没有权限，会提示Permission-denied，所以需要给脚本添加可执行权限" class="headerlink" title="14. 刚创建好的启动脚本没有权限，会提示Permission denied，所以需要给脚本添加可执行权限"></a>14. 刚创建好的启动脚本没有权限，会提示Permission denied，所以需要给脚本添加可执行权限</h4><p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A411.png" alt="集群11"></p>
<blockquote>
<p><strong>权限部分说明</strong></p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; &gt; -rw-r--r-- 1 root root  490 Jan 13 22:32 redis_cluster_start_all.sh</span><br><span class="line">&gt; &gt;</span><br></pre></td></tr></table></figure>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p><strong>含义</strong></p>
<p>u 代表所有者（user）<br>g 代表所有者所在的组群（group）<br>o 代表其他用户（other）<br>a 代表全部的人（u、g、o）</p>
<p>r 表示文件可读（read）<br>w 表示文件可写（write）<br>x 表示文件可执行（是程序）<br>– 表示相应的权限为空</p>
<p>+ 表示添加权限<br>– 表示删除权限<br>= 表示使之成为唯一的权限</p>
<p><strong>数字表示</strong></p>
<p>0代表—<br>1代表–x<br>2代表-w-<br>3代表-wx<br>4代表r–<br>5代表r-x<br>6代表rw-<br>7代表rwx</p>
<p>-rw——-    (600) 只有所有者才有读和写的权限</p>
<p>-rw-r–r–    (644) 只有所有者才有读和写的权限，组群和其他用户只有读的权限</p>
<p>-rwx——    (700) 只有所有者才有读，写，执行的权限</p>
<p>-rwxr-xr-x    (755) 只有所有者才有读，写，执行的权限，组群和其他用户只有读和执行的权限</p>
<p>-rwx–x–x    (711) 只有所有者才有读，写，执行的权限，组群和其用户只有执行的权限</p>
<p>-rw-rw-rw- (666) 每个人都有读写的权限</p>
<p>-rwxrwxrwx (777) 每个人都有读写和执行的权限</p>
</blockquote>
</blockquote>
<h4 id="15-启动redis集群"><a href="#15-启动redis集群" class="headerlink" title="15. 启动redis集群"></a>15. 启动redis集群</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos redis-cluster]# ./redis_cluster_start_all.sh</span><br></pre></td></tr></table></figure>

<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A412.png" alt="集群12"></p>
<h4 id="16-复进入到redis01-bin-目录下，拷贝一份-redis-cli-到-redis-cluster-目录下"><a href="#16-复进入到redis01-bin-目录下，拷贝一份-redis-cli-到-redis-cluster-目录下" class="headerlink" title="16. 复进入到redis01/bin/ 目录下，拷贝一份 redis-cli 到  redis-cluster/ 目录下"></a>16. 复进入到redis01/bin/ 目录下，拷贝一份 redis-cli 到  redis-cluster/ 目录下</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos src]# cp redis-cli /usr/local/redis/redis-cluster/</span><br><span class="line">[root@VM_0_5_centos src]# ls ../../</span><br><span class="line">redis01  redis02  redis03  redis04  redis05  redis06  redis-cli  redis_cluster_start_all.sh</span><br></pre></td></tr></table></figure>

<h4 id="17-创建redis集群"><a href="#17-创建redis集群" class="headerlink" title="17. 创建redis集群"></a>17. 创建redis集群</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos redis-cluster]# ./redis-cli --cluster create 118.25.24.23:7001 118.25.24.23:7002 118.25.24.23:7003 118.25.24.23:7004 118.25.24.23:7005 118.25.24.23:7006 --cluster-replicas 1 -a 123456</span><br><span class="line">Warning: Using a password with '-a' or '-u' option on the command line interface may not be safe.</span><br><span class="line"><span class="meta">&gt;</span>&gt;&gt; Performing hash slots allocation on 6 nodes...</span><br><span class="line">Master[0] -&gt; Slots 0 - 5460</span><br><span class="line">Master[1] -&gt; Slots 5461 - 10922</span><br><span class="line">Master[2] -&gt; Slots 10923 - 16383</span><br><span class="line">Adding replica 118.25.24.23:7004 to 118.25.24.23:7001</span><br><span class="line">Adding replica 118.25.24.23:7005 to 118.25.24.23:7002</span><br><span class="line">Adding replica 118.25.24.23:7006 to 118.25.24.23:7003</span><br><span class="line"><span class="meta">&gt;</span>&gt;&gt; Trying to optimize slaves allocation for anti-affinity</span><br><span class="line">[WARNING] Some slaves are in the same host as their master</span><br><span class="line">M: b50c435cf63df50862a94dadadd9ca5e051449fd 118.25.24.23:7001</span><br><span class="line">   slots:[0-5460] (5461 slots) master</span><br><span class="line">M: acf23e9fdab3c902d3cdae65b3120361aabb916f 118.25.24.23:7002</span><br><span class="line">   slots:[5461-10922] (5462 slots) master</span><br><span class="line">M: 9608312874a165adcea031713c5256c4c3d7eb63 118.25.24.23:7003</span><br><span class="line">   slots:[10923-16383] (5461 slots) master</span><br><span class="line">S: 30a12a011575d62c8865c0e9249e7e768c1a9bae 118.25.24.23:7004</span><br><span class="line">   replicates acf23e9fdab3c902d3cdae65b3120361aabb916f</span><br><span class="line">S: 1733a42b8b6471f81d9dab5f8213ea62b1492fe8 118.25.24.23:7005</span><br><span class="line">   replicates 9608312874a165adcea031713c5256c4c3d7eb63</span><br><span class="line">S: dfac6c68ed0204eda79ceff6b4fd688b1e68df7e 118.25.24.23:7006</span><br><span class="line">   replicates b50c435cf63df50862a94dadadd9ca5e051449fd</span><br><span class="line">Can I set the above configuration? (type 'yes' to accept): yes</span><br><span class="line"><span class="meta">&gt;</span>&gt;&gt; Nodes configuration updated</span><br><span class="line"><span class="meta">&gt;</span>&gt;&gt; Assign a different config epoch to each node</span><br><span class="line"><span class="meta">&gt;</span>&gt;&gt; Sending CLUSTER MEET messages to join the cluster</span><br><span class="line">Waiting for the cluster to join</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;</span>&gt;&gt; Performing Cluster Check (using node 118.25.24.23:7001)</span><br><span class="line">M: b50c435cf63df50862a94dadadd9ca5e051449fd 118.25.24.23:7001</span><br><span class="line">   slots:[0-5460] (5461 slots) master</span><br><span class="line">   1 additional replica(s)</span><br><span class="line">S: dfac6c68ed0204eda79ceff6b4fd688b1e68df7e 118.25.24.23:7006</span><br><span class="line">   slots: (0 slots) slave</span><br><span class="line">   replicates b50c435cf63df50862a94dadadd9ca5e051449fd</span><br><span class="line">S: 1733a42b8b6471f81d9dab5f8213ea62b1492fe8 118.25.24.23:7005</span><br><span class="line">   slots: (0 slots) slave</span><br><span class="line">   replicates 9608312874a165adcea031713c5256c4c3d7eb63</span><br><span class="line">M: acf23e9fdab3c902d3cdae65b3120361aabb916f 118.25.24.23:7002</span><br><span class="line">   slots:[5461-10922] (5462 slots) master</span><br><span class="line">   1 additional replica(s)</span><br><span class="line">S: 30a12a011575d62c8865c0e9249e7e768c1a9bae 118.25.24.23:7004</span><br><span class="line">   slots: (0 slots) slave</span><br><span class="line">   replicates acf23e9fdab3c902d3cdae65b3120361aabb916f</span><br><span class="line">M: 9608312874a165adcea031713c5256c4c3d7eb63 118.25.24.23:7003</span><br><span class="line">   slots:[10923-16383] (5461 slots) master</span><br><span class="line">   1 additional replica(s)</span><br><span class="line">[OK] All nodes agree about slots configuration.</span><br><span class="line"><span class="meta">&gt;</span>&gt;&gt; Check for open slots...</span><br><span class="line"><span class="meta">&gt;</span>&gt;&gt; Check slots coverage...</span><br><span class="line">[OK] All 16384 slots covered.</span><br></pre></td></tr></table></figure>

<h4 id="18-在redis-cluster目录下，编写redis-cluster-stop-all-sh关闭脚本"><a href="#18-在redis-cluster目录下，编写redis-cluster-stop-all-sh关闭脚本" class="headerlink" title="18. 在redis-cluster目录下，编写redis_cluster_stop_all.sh关闭脚本"></a>18. 在redis-cluster目录下，编写redis_cluster_stop_all.sh关闭脚本</h4><p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A415.png" alt="集群15"></p>
<h4 id="19-给redis-cluster-stop-all-sh脚本添加可执行权限-参考11点给启动脚本添加权限"><a href="#19-给redis-cluster-stop-all-sh脚本添加可执行权限-参考11点给启动脚本添加权限" class="headerlink" title="19. 给redis_cluster_stop_all.sh脚本添加可执行权限(参考11点给启动脚本添加权限)"></a>19. 给redis_cluster_stop_all.sh脚本添加可执行权限(参考11点给启动脚本添加权限)</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos redis-cluster]# ll | grep redis_cluster_stop_all.sh</span><br><span class="line">-rw-r--r-- 1 root root     552 Jan 14 10:42 redis_cluster_stop_all.sh</span><br><span class="line">[root@VM_0_5_centos redis-cluster]# chmod +x redis_cluster_stop_all.sh </span><br><span class="line">[root@VM_0_5_centos redis-cluster]# ll | grep redis_cluster_stop_all.sh</span><br><span class="line">-rwxr-xr-x 1 root root     552 Jan 14 10:42 redis_cluster_stop_all.sh</span><br></pre></td></tr></table></figure>

<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A416.png" alt="集群16"></p>
<h4 id="20-执行停止脚本"><a href="#20-执行停止脚本" class="headerlink" title="20. 执行停止脚本"></a>20. 执行停止脚本</h4><p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A417.png" alt="集群17"></p>
<h4 id="21-java使用jedis连接集群"><a href="#21-java使用jedis连接集群" class="headerlink" title="21. java使用jedis连接集群"></a>21. java使用jedis连接集群</h4><blockquote>
<ol>
<li><strong>pom.xml中引入相关jar包</strong></li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">&gt; <span class="comment">&lt;!--整合redis--&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">&gt;     <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">&gt;     <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">&gt;     <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.1.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">&gt; </span><br><span class="line">&gt; <span class="comment">&lt;!-- https://mvnrepository.com/artifact/redis.clients/jedis --&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">&gt;     <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">&gt;     <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">&gt;     <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<ol start="2">
<li><strong>配置文件中添加集群节点信息</strong></li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">&gt; spring: </span></span><br><span class="line"><span class="string">&gt;   redis:</span></span><br><span class="line"><span class="string">&gt;     cluster:</span></span><br><span class="line"><span class="string">&gt;       nodes: 118.25.24.23:7001,118.25.24.23:7002,118.25.24.23:7003,118.25.24.23:7004,118.25.24.23:7005,118.25.24.23:7006</span></span><br><span class="line"><span class="string">&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<ol start="3">
<li><strong>编写redis配置类</strong></li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&gt; <span class="keyword">package</span> com.joey.config;</span><br><span class="line">&gt; </span><br><span class="line">&gt; <span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line">&gt; <span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line">&gt; <span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line">&gt; <span class="keyword">import</span> redis.clients.jedis.HostAndPort;</span><br><span class="line">&gt; <span class="keyword">import</span> redis.clients.jedis.JedisCluster;</span><br><span class="line">&gt; <span class="keyword">import</span> redis.clients.jedis.JedisPoolConfig;</span><br><span class="line">&gt; </span><br><span class="line">&gt; <span class="keyword">import</span> java.util.HashSet;</span><br><span class="line">&gt; <span class="keyword">import</span> java.util.Set;</span><br><span class="line">&gt; </span><br><span class="line">&gt; <span class="comment">/**</span></span><br><span class="line"><span class="comment">&gt;  * 〈redis集群配置〉</span></span><br><span class="line"><span class="comment">&gt;  *</span></span><br><span class="line"><span class="comment">&gt;  * <span class="doctag">@author</span> Joey</span></span><br><span class="line"><span class="comment">&gt;  * <span class="doctag">@create</span> 2019-01-14</span></span><br><span class="line"><span class="comment">&gt;  * <span class="doctag">@since</span> 1.0.0</span></span><br><span class="line"><span class="comment">&gt;  */</span></span><br><span class="line">&gt; <span class="meta">@Configuration</span></span><br><span class="line">&gt; <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisConfig</span> </span>&#123;</span><br><span class="line">&gt; </span><br><span class="line">&gt;     <span class="meta">@Value</span>(<span class="string">"$&#123;spring.redis.cluster.nodes&#125;"</span>)</span><br><span class="line">&gt;     <span class="keyword">private</span> String redisNodes;</span><br><span class="line">&gt; </span><br><span class="line">&gt;     <span class="meta">@Bean</span></span><br><span class="line">&gt;     <span class="function"><span class="keyword">public</span> JedisCluster <span class="title">getJedisCluster</span><span class="params">()</span></span>&#123;</span><br><span class="line">&gt;         Set&lt;HostAndPort&gt; nodes = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">&gt;         <span class="keyword">try</span> &#123;</span><br><span class="line">&gt;             String[] redisnodes = redisNodes.split(<span class="string">","</span>);</span><br><span class="line">&gt;             <span class="keyword">for</span> (String node:redisnodes)&#123;</span><br><span class="line">&gt;                 String[] arr = node.split(<span class="string">":"</span>);</span><br><span class="line">&gt;                 HostAndPort hostAndPort = <span class="keyword">new</span> HostAndPort(arr[<span class="number">0</span>], Integer.parseInt(arr[<span class="number">1</span>]));</span><br><span class="line">&gt;                 nodes.add(hostAndPort);</span><br><span class="line">&gt;             &#125;</span><br><span class="line">&gt;         &#125;</span><br><span class="line">&gt;         <span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">&gt;             System.out.println(<span class="string">"集群节点配置有误"</span>);</span><br><span class="line">&gt;         &#125;</span><br><span class="line">&gt;         JedisPoolConfig jedisPoolConfig = <span class="keyword">new</span> JedisPoolConfig();</span><br><span class="line">&gt;         <span class="comment">//配置password否则会报权限错误</span></span><br><span class="line">&gt;         JedisCluster cluster = <span class="keyword">new</span> JedisCluster(nodes,<span class="number">0</span>,<span class="number">0</span>,<span class="number">500</span>,<span class="string">"123456"</span>,jedisPoolConfig);</span><br><span class="line">&gt;         <span class="keyword">return</span> cluster;</span><br><span class="line">&gt;     &#125;</span><br><span class="line">&gt; &#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<ol start="4">
<li><p><strong>编写Service接口类，实现类以及Controller类</strong></p>
<p>(1). 接口类</p>
</li>
</ol>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A4%E6%8E%A5%E5%8F%A3%E7%B1%BB.png" alt="集群接口类"></p>
<p>​    (2). 实现类</p>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A4%E5%AE%9E%E7%8E%B0%E7%B1%BB.png" alt="集群实现类"></p>
<p>​    (3). Controller类</p>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A4%E6%8E%A7%E5%88%B6%E7%B1%BB.png" alt="集群控制类"></p>
<ol start="5">
<li><strong>浏览器访问</strong></li>
</ol>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E9%9B%86%E7%BE%A4%E6%88%90%E5%8A%9F.png" alt="集群成功"></p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fangchenyong.top/2019/07/23/Linux-install_Redis5.0.3_cluster/" data-id="ckmh9ucl700623oum1i332nrw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS/">CentOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Redis/">Redis</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-数据库-Oracle-Oracle使用正则表达式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/23/数据库-Oracle-Oracle使用正则表达式/" class="article-date">
  <time datetime="2019-07-22T16:00:00.000Z" itemprop="datePublished">2019-07-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>►<a class="article-category-link" href="/categories/Linux/Oracle/">Oracle</a>►<a class="article-category-link" href="/categories/Linux/Oracle/正则表达式/">正则表达式</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/23/数据库-Oracle-Oracle使用正则表达式/">Oracle中使用正则表达式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Oracle中使用正则表达式"><a href="#Oracle中使用正则表达式" class="headerlink" title="Oracle中使用正则表达式"></a>Oracle中使用正则表达式</h2><ol>
<li><h3 id="regexp-like"><a href="#regexp-like" class="headerlink" title="regexp_like"></a>regexp_like</h3><blockquote>
<p><strong>regexp_like</strong> 只能用于条件表达式，和 like 类似，但是使用的正则表达式进行匹配</p>
<p>语法： REGEXP_LIKE(srcstr, pattern [,match_option])</p>
<ol>
<li>srcstr : 搜索值</li>
<li>pattern : 正则表达式</li>
<li>match_option : 匹配选项，可以包含一个或多个<ul>
<li>“c” : 使用区分大小写的匹配（默认值）</li>
<li>“i” : 使用不区分大小写的匹配</li>
<li>“n” : 允许匹配任何字符的运算符来匹配换行符</li>
<li>“m” : 将源字符串作为多行处理</li>
</ul>
</li>
</ol>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&gt; select str from tmp where id='like' and regexp_like(str,'A\d+','i');</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><h3 id="regexp-substr"><a href="#regexp-substr" class="headerlink" title="regexp_substr"></a>regexp_substr</h3><blockquote>
<p><strong>regexp_substr</strong> 函数，和 substr 类似，截取符合正则匹配的字符串</p>
<p>语法：REGEXP_SUBSTR(srcstr, pattern [, position [, occurrence [, match_option]]])</p>
<ol>
<li>position : 搜索的起始位置</li>
<li>occurrence : 搜索的匹配项</li>
<li>match_option : 匹配选项，可以包含一个或多个<ul>
<li>“c” : 使用区分大小写的匹配（默认值）</li>
<li>“i” : 使用不区分大小写的匹配</li>
<li>“n” : 允许匹配任何字符的运算符来匹配换行符</li>
<li>“m” : 将源字符串作为多行处理</li>
</ul>
</li>
</ol>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&gt; select</span><br><span class="line">&gt; str, </span><br><span class="line">&gt; regexp_substr(str,'[^,]+') str,</span><br><span class="line">&gt; regexp_substr(str,'[^,]+',1,1) str,</span><br><span class="line">&gt; regexp_substr(str,'[^,]+',1,2) str,</span><br><span class="line">&gt; regexp_substr(str,'[^,]+',2,1) str</span><br><span class="line">&gt; from tmp</span><br><span class="line">&gt; where id='substr';</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><h3 id="regexp-instr"><a href="#regexp-instr" class="headerlink" title="regexp_instr"></a>regexp_instr</h3><blockquote>
<p><strong>regexp_instr</strong>函数， 和 instr 类似，用于标定正则匹配的字符子串的开始位置</p>
<p>语法：REGEXP_INSTR(srcstr, pattern [, position [, occurrence[, return_option [, match_option]]]])</p>
<ol>
<li>srcstr : 搜索值</li>
<li>pattern : 正则表达式</li>
<li>position : 搜索的起始位置</li>
<li>occurrence : 搜索的匹配项</li>
<li>return_option : 匹配项的开头或结尾位置</li>
<li>match_option : 匹配选项，可以包含一个或多个<ul>
<li>“c” : 使用区分大小写的匹配（默认值）</li>
<li>“i” : 使用不区分大小写的匹配</li>
<li>“n” : 允许匹配任何字符的运算符来匹配换行符</li>
<li>“m” : 将源字符串作为多行处理</li>
</ul>
</li>
</ol>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&gt; select</span><br><span class="line">&gt; str, </span><br><span class="line">&gt; regexp_instr(str,'\.'    ) ind ,</span><br><span class="line">&gt; regexp_instr(str,'\.',1,2) ind ,</span><br><span class="line">&gt; regexp_instr(str,'\.',5,2) ind</span><br><span class="line">&gt; from tmp where id='instr';</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><h3 id="regexp-replace"><a href="#regexp-replace" class="headerlink" title="regexp_replace"></a>regexp_replace</h3><blockquote>
<p><strong>regexp_replace</strong> 函数，和 replace 类似，用于替换符合正则表达式的字符串</p>
<p>语法：REGEXP_REPLACE(srcstr, pattern [,replacestr [, position[, occurrence [, match_option]]]])</p>
<ol>
<li>srcstr : 搜索值</li>
<li>pattern : 正则表达式</li>
<li>replacestr : 替换模式的字符串</li>
<li>position : 搜索的起始位置</li>
<li>occurrence : 搜索的匹配项</li>
<li>match_option : 匹配选项，可以包含一个或多个<ul>
<li>“c” : 使用区分大小写的匹配（默认值）</li>
<li>“i” : 使用不区分大小写的匹配</li>
<li>“n” : 允许匹配任何字符的运算符来匹配换行符</li>
<li>“m” : 将源字符串作为多行处理</li>
</ul>
</li>
</ol>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&gt; select</span><br><span class="line">&gt; str,</span><br><span class="line">&gt; regexp_replace(str,'020','GZ') str,</span><br><span class="line">&gt; regexp_replace(str,'(\d&#123;3&#125;)(\d&#123;3&#125;)','&lt;\2\1&gt;') str </span><br><span class="line">&gt; -- 将第一、第二捕获组交换位置，用尖括号标识出来</span><br><span class="line">&gt; from tmp</span><br><span class="line">&gt; where id='replace';</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fangchenyong.top/2019/07/23/数据库-Oracle-Oracle使用正则表达式/" data-id="ckmh9uciv000u3oum8nuvx4gn" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Oracle/">Oracle</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/正则表达式/">正则表达式</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Linux-zigw病毒查杀" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/23/Linux-zigw病毒查杀/" class="article-date">
  <time datetime="2019-07-22T16:00:00.000Z" itemprop="datePublished">2019-07-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>►<a class="article-category-link" href="/categories/Linux/CentOS/">CentOS</a>►<a class="article-category-link" href="/categories/Linux/CentOS/zigw/">zigw</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/23/Linux-zigw病毒查杀/">CentOS7.2 系统服务器中挖矿病毒查杀</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="CentOS7-2-系统服务器中挖矿病毒查杀"><a href="#CentOS7-2-系统服务器中挖矿病毒查杀" class="headerlink" title="CentOS7.2 系统服务器中挖矿病毒查杀"></a>CentOS7.2 系统服务器中挖矿病毒查杀</h2><p>本文参考链接如下：</p>
<ul>
<li><a href="https://blog.csdn.net/sayWhat_sayHello/article/details/83988443" target="_blank" rel="noopener">zigw挖矿病毒查杀</a></li>
<li><a href="https://mp.weixin.qq.com/s/FhcoPGXG_udkRCj3AFOmxA" target="_blank" rel="noopener">如何排查常见挖矿木马</a></li>
</ul>
<h4 id="1-服务卡顿，执行top-c命令"><a href="#1-服务卡顿，执行top-c命令" class="headerlink" title="1. 服务卡顿，执行top c命令"></a>1. 服务卡顿，执行top c命令</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos ~]# top c</span><br></pre></td></tr></table></figure>

<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%97%85%E6%AF%92.png" alt="服务器病毒"></p>
<blockquote>
<p><strong>关于top命令</strong>（<a href="https://blog.csdn.net/wxh2013/article/details/50995501" target="_blank" rel="noopener">参考</a>）</p>
<p>1.作用<br>top命令用来显示执行中的程序进程，使用权限是所有用户。</p>
<p>2.格式<br>top [－] [d delay] [q] [c] [S] [s] [i] [n]</p>
<p>3.主要参数<br>d：指定更新的间隔，以秒计算。<br>q：没有任何延迟的更新。如果使用者有超级用户，则top命令将会以最高的优先序执行。<br>c：显示进程完整的路径与名称。<br>S：累积模式，会将己完成或消失的子行程的CPU时间累积起来。<br>s：安全模式。<br>i：不显示任何闲置(Idle)或无用(Zombie)的行程。<br>n：显示更新的次数，完成后将会退出top。</p>
<p>4.每行信息详解</p>
<ul>
<li><p>第一行表示的项目依次为当前时间、系统运行时间、当前系统登录用户数目、1/5/10分钟系统平均负载(一般来说，这个负载值应该不太可能超过 1 才对，除非您的系统很忙碌。 如果持续高于 5 的话，那么…..仔细的看看到底是那个程序在影响整体系统吧！)。</p>
</li>
<li><p>第二行显示的是所有启动的进程、目前运行、挂起 (Sleeping)的和无用(Zombie)的进程。(比较需要注意的是最后的 zombie 那个数值，如果不是 0 ，嘿嘿！好好看看到底是那个 process 变成疆尸了吧？！)(stop模式：与sleep进程应区别，sleep会主动放弃cpu，而stop是被动放弃cpu ，例单步跟踪，stop（暂停）的进程是无法自己回到运行状态的)</p>
</li>
<li><p>第三行显示的是目前CPU的使用情况，包括us用户空间占用CPU百分比、sy 内核空间占用CPU百分比、ni 用户进程空间内改变过优先级的进程占用CPU百分比(中断处理占用)、id 空闲CPU百分比、wa 等待输入输出的CPU时间百分比、hi,si,st 三者的意思目录还不清楚</p>
</li>
<li><p>第四行显示物理内存的使用情况，包括总的可以使用的内存、已用内存、空闲内存、缓冲区占用的内存。</p>
</li>
<li><p>第五行显示交换分区使用情况，包括总的交换分区、使用的、空闲的和用于高速缓存的大小。</p>
</li>
<li><p>第六行显示的项目最多，下面列出了详细解释。<br>PID（Process ID）：进程标示号 ( 每个 process 的 ID )<br>USER：进程所有者的用户名 ( 该 process 所属的使用者 )<br>PR：进程的优先级别 ( Priority 的简写，程序的优先执行顺序，越小越早被执行 )<br>NI：进程的优先级别数值 ( Nice 的简写，与 Priority 有关，也是越小越早被执行 )<br>VIRT：进程占用的虚拟内存值。<br>RES：进程占用的物理内存值。<br>SHR：进程使用的共享内存值。<br>S：进程的状态，其中S表示休眠，R表示正在运行，Z表示僵死状态，N表示该进程优先值是负数。<br>%CPU：该进程占用的CPU使用率。<br>%MEM：该进程占用的物理内存和总内存的百分比。<br>TIME＋：该进程启动后占用的总的CPU时间 ( CPU 使用时间的累加 )<br>Command：进程启动的启动命令名称，如果这一行显示不下，进程会有一个完整的命令行。</p>
</li>
</ul>
<p>top命令使用过程中，还可以使用一些交互的命令来完成其它参数的功能。这些命令是通过快捷键启动的。<br>＜空格＞：立刻刷新。<br>P：根据CPU使用大小进行排序。<br>T：根据时间、累计时间排序。<br>q：退出top命令。<br>m：切换显示内存信息。<br>t：切换显示进程和CPU状态信息。<br>c：切换显示命令名称和完整命令行。<br>M：根据使用内存大小进行排序。<br>W：将当前设置写入~/.toprc文件中。这是写top配置文件的推荐方法。</p>
</blockquote>
<h4 id="2-查看系统运行情况，记录PID"><a href="#2-查看系统运行情况，记录PID" class="headerlink" title="2.查看系统运行情况，记录PID"></a>2.查看系统运行情况，记录PID</h4><blockquote>
<p>可以看到./zigw正在运行占用了系统98%的CPU从而导致系统卡顿</p>
<p>记录运行的PID 3692</p>
</blockquote>
<h4 id="3-查看定时任务"><a href="#3-查看定时任务" class="headerlink" title="3. 查看定时任务"></a>3. 查看定时任务</h4><blockquote>
<p>进入/var/spool/cron 目录以及/etc/cron.daily/、/etc/cron.hourly/、/etc/cron.monthly……等</p>
</blockquote>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E7%97%85%E6%AF%92%E6%9F%A5%E6%89%BE.png" alt="病毒查找"></p>
<h4 id="4-删除定时任务文件"><a href="#4-删除定时任务文件" class="headerlink" title="4. 删除定时任务文件"></a>4. 删除定时任务文件</h4><blockquote>
<p>执行rm -rf 删除root以及dump.rdb文件（第一次未成功使用xftp连接直接删除成功）</p>
<p>执行过程可能会报没有权限删除，查看是否是因为chattr命令锁定了</p>
<p>先使用lsattr命令查看文件属性，如果有权限锁定使用chattr命令修改权限</p>
<p>chattr命令的用法：chattr [ -RVf ] [ -v version ] [ mode ] files…</p>
<p>例：chattr -i root </p>
<p><strong>参数说明</strong></p>
<blockquote>
<p>+：在原有参数设定基础上，追加参数。</p>
<p>-：在原有参数设定基础上，移除参数。<br>= ：更新为指定参数设定。<br>A：文件或目录的 atime (access time)不可被修改(modified), 可以有效预防例如手提电脑磁盘I/O错误的发生。<br>S：硬盘I/O同步选项，功能类似sync。<br>a：即append，设定该参数后，只能向文件中添加数据，而不能删除，多用于服务器日志文件安全，只有root才能设定这个属性。<br>c：即compresse，设定文件是否经压缩后再存储。读取时需要经过自动解压操作。<br>d：即no dump，设定文件不能成为dump程序的备份目标。<br>i：设定文件不能被删除、改名、设定链接关系，同时不能写入或新增内容。i参数对于文件 系统的安全设置有很大帮助。<br>j：即journal，设定此参数使得当通过mount参数：data=ordered 或者 data=writeback 挂 载的文件系统，文件在写入时会先被记录(在journal中)。如果filesystem被设定参数为 data=journal，则该参数自动失效。<br>s：保密性地删除文件或目录，即硬盘空间被全部收回。<br>u：与s相反，当设定为u时，数据内容其实还存在磁盘中，可以用于undeletion。<br>各参数选项中常用到的是a和i。a选项强制只可添加不可删除，多用于日志系统的安全设定。而i是更为严格的安全设定，只有superuser (root) 或具有CAP_LINUX_IMMUTABLE处理能力（标识）的进程能够施加该选项。</p>
<p>…….</p>
</blockquote>
</blockquote>
<h4 id="5-进入-proc目录，查看指定端口信息"><a href="#5-进入-proc目录，查看指定端口信息" class="headerlink" title="5. 进入/proc目录，查看指定端口信息"></a>5. 进入/proc目录，查看指定端口信息</h4><p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E7%97%85%E6%AF%92%E6%9F%A5%E6%89%BE2.png" alt="病毒查找2"></p>
<blockquote>
<p>可以看到有一条指向/etc/zigw</p>
</blockquote>
<h4 id="6-进入etc目录"><a href="#6-进入etc目录" class="headerlink" title="6. 进入etc目录"></a>6. 进入etc目录</h4><blockquote>
<p>先杀进程 </p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;</span> [root@VM_0_5_centos 3692]# kill -9 3692</span><br><span class="line"><span class="meta">&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>再用chattr改变zigw等病毒文件的权限进行删除。</p>
</blockquote>
<h4 id="7-删除ssh-keys"><a href="#7-删除ssh-keys" class="headerlink" title="7. 删除ssh-keys"></a>7. 删除ssh-keys</h4><blockquote>
<p>进入/root/.ssh目录 ，删除authorize_keys</p>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/ssh%E5%88%A0%E9%99%A4.png" alt="ssh删除"></p>
</blockquote>
<h4 id="8-再执行top-c查看"><a href="#8-再执行top-c查看" class="headerlink" title="8. 再执行top c查看"></a>8. 再执行top c查看</h4><p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/%E7%97%85%E6%AF%92%E5%A4%8D%E5%8F%91.png" alt="病毒复发"></p>
<h4 id="9-重新执行"><a href="#9-重新执行" class="headerlink" title="9. 重新执行"></a>9. 重新执行</h4><blockquote>
<p> 重新删除root以及dump.rdb文件，查看定时任务情况，在xftp下都进行删除，重新执行kill -9 14120杀死进程，不再复发。</p>
</blockquote>
<h4 id="10-重新配置redis安全配置"><a href="#10-重新配置redis安全配置" class="headerlink" title="10. 重新配置redis安全配置"></a>10. 重新配置redis安全配置</h4>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://fangchenyong.top/2019/07/23/Linux-zigw病毒查杀/" data-id="ckmh9ucis000o3oumytqttb88" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS/">CentOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/zigw/">zigw</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-数据库-Oracle-Oracle常用操作" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/23/数据库-Oracle-Oracle常用操作/" class="article-date">
  <time datetime="2019-07-22T16:00:00.000Z" itemprop="datePublished">2019-07-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/数据库/">数据库</a>►<a class="article-category-link" href="/categories/数据库/Oracle/">Oracle</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/23/数据库-Oracle-Oracle常用操作/">Oracle常用操作</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="数据库误删恢复"><a href="#数据库误删恢复" class="headerlink" title="数据库误删恢复"></a>数据库误删恢复</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--10分钟前数据可用于误删恢复</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名_tmp <span class="keyword">as</span> </span><br><span class="line">(</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> 表名 <span class="keyword">AS</span> <span class="keyword">OF</span> <span class="built_in">TIMESTAMP</span> <span class="keyword">SYSDATE</span> - <span class="number">10</span>/<span class="number">1440</span></span><br><span class="line">)；</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> 表名_tmp；</span><br><span class="line"><span class="keyword">update</span> 表名A  <span class="keyword">set</span> A.S_GRADE=(<span class="keyword">select</span> S_GRADE  <span class="keyword">from</span> 表名_TMP B <span class="keyword">where</span> A.ID=B.ID)；</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> 表名；</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--闪回</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">enable</span> <span class="keyword">row</span> <span class="keyword">movement</span>;</span><br><span class="line">flashback table 表名 to timestamp to_timestamp('2018-08-09 10:00:00','yyyy-mm-dd HH24:MI:SS');</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">disable</span> <span class="keyword">row</span> <span class="keyword">movement</span>;</span><br></pre></td></tr></table></figure>

<h2 id="处理锁定"><a href="#处理锁定" class="headerlink" title="处理锁定"></a>处理锁定</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--处理锁定</span></span><br><span class="line"><span class="keyword">select</span> t1.sid, t1.serial<span class="comment">#, t1.username, t1.logon_time from v$session t1 , v$locked_object t2</span></span><br><span class="line"><span class="keyword">where</span> t1.sid = t2.session_id <span class="keyword">order</span> <span class="keyword">by</span> t1.logon_time;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">system</span> <span class="keyword">kill</span> <span class="keyword">session</span> <span class="string">'1025,1152'</span></span><br></pre></td></tr></table></figure>

<h2 id="查询历史执行记录"><a href="#查询历史执行记录" class="headerlink" title="查询历史执行记录"></a>查询历史执行记录</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--查看oracle执行的语句</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> v$<span class="keyword">sql</span> t</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">t.PARSING_SCHEMA_NAME = <span class="string">'数据库名称'</span> <span class="comment">--数据库</span></span><br><span class="line"><span class="keyword">and</span> <span class="keyword">lower</span>(t.SQL_TEXT) <span class="keyword">like</span> <span class="string">'%sql语句中包含的信息%'</span> <span class="comment">--查询某类SQL语句</span></span><br><span class="line"><span class="keyword">and</span>  t.LAST_ACTIVE_TIME&gt;(<span class="keyword">sysdate</span> - <span class="built_in">interval</span> <span class="string">'1'</span> <span class="keyword">MINUTE</span>)  <span class="comment">--执行1分钟内的SQL语句</span></span><br><span class="line"><span class="keyword">and</span> (t.MODULE <span class="keyword">is</span> <span class="literal">null</span> <span class="keyword">or</span> t.MODULE <span class="keyword">not</span> <span class="keyword">like</span> <span class="string">'%PL/SQL%'</span>) <span class="comment">--不是在某些终端里的执行</span></span><br></pre></td></tr></table></figure>

<h2 id="触发器和序列"><a href="#触发器和序列" class="headerlink" title="触发器和序列"></a>触发器和序列</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--序列</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">SEQUENCE</span> POWERPMS.S_NBG_MAT_APPLY</span><br><span class="line">    <span class="keyword">INCREMENT</span> <span class="keyword">BY</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">START</span> <span class="keyword">WITH</span> <span class="number">1</span></span><br><span class="line">    MAXVALUE <span class="number">1000000000000000000000000000</span></span><br><span class="line">    <span class="keyword">NOMINVALUE</span></span><br><span class="line">    <span class="keyword">NOCYCLE</span></span><br><span class="line">    <span class="keyword">CACHE</span> <span class="number">20</span></span><br><span class="line">    <span class="keyword">NOORDER</span></span><br><span class="line"><span class="keyword">GO</span></span><br><span class="line"><span class="comment">--触发器</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> <span class="keyword">REPLACE</span> <span class="keyword">TRIGGER</span> POWERPMS.TID_NBG_MAT_APPLY</span><br><span class="line">  <span class="keyword">before</span> <span class="keyword">insert</span> <span class="keyword">on</span> NBG_MAT_APPLY</span><br><span class="line">  <span class="keyword">for</span> <span class="keyword">each</span> <span class="keyword">row</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">  <span class="keyword">SELECT</span> S_NBG_MAT_APPLYT.NEXTVAL <span class="keyword">INTO</span> :NEW.OLD_UNIQUEID <span class="keyword">FROM</span> DUAL; </span><br><span class="line"><span class="keyword">END</span> TID_NBG_MAT_APPLY;</span><br><span class="line">GO</span><br></pre></td></tr></table></figure>

<h2 id="关联更新"><a href="#关联更新" class="headerlink" title="关联更新"></a>关联更新</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">MERGE</span> <span class="keyword">INTO</span>  表A <span class="keyword">USING</span>  表B <span class="keyword">ON</span> ( 表A.字段= 表B.字段) <span class="keyword">WHEN</span> <span class="keyword">MATCHED</span> <span class="keyword">THEN</span></span><br><span class="line"><span class="keyword">UPDATE</span></span><br><span class="line"><span class="keyword">SET</span> 表A.字段 = 表B.字段</span><br></pre></td></tr></table></figure>

<h2 id="行转列"><a href="#行转列" class="headerlink" title="行转列"></a>行转列</h2><blockquote>
<p>10g ：wm_concat</p>
<p>11g : pivot ，unpivot </p>
<p>12c :  listagg</p>
<p><a href="https://www.cnblogs.com/mellowsmile/p/4642306.html" target="_blank" rel="noopener">参考链接</a></p>
</blockquote>
<h2 id="表空间不足"><a href="#表空间不足" class="headerlink" title="表空间不足"></a>表空间不足</h2><p>项目中使用出现报错</p>
<blockquote>
<p>ORA-01653: 表xx无法通过 8192 (在表空间 xx_data 中) 扩展。</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 查询剩余表空间，发现没有要找的表空间</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">UPPER</span>(F.TABLESPACE_NAME) <span class="string">"表空间名"</span>,D.TOT_GROOTTE_MB <span class="string">"表空间大小(M)"</span>,D.TOT_GROOTTE_MB - F.TOTAL_BYTES <span class="string">"已使用空间(M)"</span>,</span><br><span class="line">TO_CHAR(<span class="keyword">ROUND</span>((D.TOT_GROOTTE_MB - F.TOTAL_BYTES)/D.TOT_GROOTTE_MB * <span class="number">100</span>,<span class="number">2</span>),<span class="string">'990.99'</span>) <span class="string">"使用比"</span>,</span><br><span class="line">F.TOTAL_BYTES <span class="string">"空闲空间(M)"</span>,</span><br><span class="line">F.MAX_BYTES <span class="string">"最大块(M)"</span></span><br><span class="line"><span class="keyword">FROM</span> (<span class="keyword">SELECT</span> TABLESPACE_NAME,</span><br><span class="line"><span class="keyword">ROUND</span>(<span class="keyword">SUM</span>(<span class="keyword">BYTES</span>)/(<span class="number">1024</span> * <span class="number">1024</span>), <span class="number">2</span>) TOTAL_BYTES,</span><br><span class="line"><span class="keyword">ROUND</span>(<span class="keyword">MAX</span>(<span class="keyword">BYTES</span>)/(<span class="number">1024</span> * <span class="number">1024</span>), <span class="number">2</span>) MAX_BYTES</span><br><span class="line"><span class="keyword">FROM</span> SYS.DBA_FREE_SPACE</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> TABLESPACE_NAME) F,</span><br><span class="line">(<span class="keyword">SELECT</span> DD.TABLESPACE_NAME,</span><br><span class="line"><span class="keyword">ROUND</span>(<span class="keyword">SUM</span>(DD.BYTES)/(<span class="number">1024</span> * <span class="number">1024</span>),<span class="number">2</span>) TOT_GROOTTE_MB</span><br><span class="line"><span class="keyword">FROM</span> SYS.DBA_DATA_FILES DD</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> DD.TABLESPACE_NAME) D</span><br><span class="line"><span class="keyword">WHERE</span> D.TABLESPACE_NAME = F.TABLESPACE_NAME</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="number">4</span> <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 查看表空间是否具有自动扩展的能力   </span></span><br><span class="line"><span class="keyword">SELECT</span> T.TABLESPACE_NAME,D.FILE_NAME,D.AUTOEXTENSIBLE,D.BYTES,D.MAXBYTES,D.STATUS</span><br><span class="line"><span class="keyword">FROM</span> DBA_TABLESPACES T,DBA_DATA_FILES D</span><br><span class="line"><span class="keyword">WHERE</span> T.TABLESPACE_NAME =D.TABLESPACE_NAME</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> TABLESPACE_NAME,FILE_NAME;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 修改表空间文件扩展方式:  路径是上面查询的 FILE_NAME</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">DATABASE</span>  <span class="keyword">DATAFILE</span> <span class="string">'D:\ORACLE\PRODUCT\10.2.0\ORADATA\NBGPMC\POWERPMS.ORA'</span> <span class="keyword">AUTOEXTEND</span>  <span class="keyword">ON</span> <span class="keyword">NEXT</span> <span class="number">50</span>M <span class="keyword">MAXSIZE</span> <span class="keyword">UNLIMITED</span></span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://fangchenyong.top/2019/07/23/数据库-Oracle-Oracle常用操作/" data-id="ckmh9ucix000v3oum4qta0p89" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Oracle/">Oracle</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据库/">数据库</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Linux-install_Tomcat8" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/23/Linux-install_Tomcat8/" class="article-date">
  <time datetime="2019-07-22T16:00:00.000Z" itemprop="datePublished">2019-07-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>►<a class="article-category-link" href="/categories/Linux/CentOS/">CentOS</a>►<a class="article-category-link" href="/categories/Linux/CentOS/Tomcat/">Tomcat</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/23/Linux-install_Tomcat8/">CentOS7.2 安装tomcat8.5</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="CentOS7-2-安装tomcat8-5"><a href="#CentOS7-2-安装tomcat8-5" class="headerlink" title="CentOS7.2 安装tomcat8.5"></a>CentOS7.2 安装tomcat8.5</h2><h4 id="1-官网下载tomcat压缩包"><a href="#1-官网下载tomcat压缩包" class="headerlink" title="1.  官网下载tomcat压缩包"></a>1.  <a href="http://tomcat.apache.org/download-80.cgi" target="_blank" rel="noopener">官网下载</a>tomcat压缩包</h4><p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/tomcat%E4%B8%8B%E8%BD%BD.png" alt="tomcat下载"></p>
<h4 id="2-上传至云服务器（本人使用xFtp6上传）"><a href="#2-上传至云服务器（本人使用xFtp6上传）" class="headerlink" title="2. 上传至云服务器（本人使用xFtp6上传）"></a>2. 上传至云服务器（本人使用xFtp6上传）</h4><h4 id="3-执行解压操作"><a href="#3-执行解压操作" class="headerlink" title="3. 执行解压操作"></a>3. 执行解压操作</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos tomcat]# tar -zxvf apache-tomcat-8.5.37</span><br><span class="line">[root@VM_0_5_centos tomcat]# ls</span><br><span class="line">apache-tomcat-8.5.37  apache-tomcat-8.5.37.tar.gz</span><br></pre></td></tr></table></figure>

<blockquote>
<p>解压后文件目录结构</p>
</blockquote>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/tomcat%E8%A7%A3%E5%8E%8B.png" alt="tomcat解压"></p>
<h4 id="4-查看是否已经正确配置JAVA-HOME，输出JAVA-HOME路径"><a href="#4-查看是否已经正确配置JAVA-HOME，输出JAVA-HOME路径" class="headerlink" title="4. 查看是否已经正确配置JAVA_HOME，输出JAVA_HOME路径"></a>4. 查看是否已经正确配置JAVA_HOME，输出JAVA_HOME路径</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos apache-tomcat-8.5.37]# echo $JAVA_HOME</span><br><span class="line">/usr/java/jdk1.8.0_192</span><br></pre></td></tr></table></figure>

<h4 id="5-可以将解压后的tomcat文件复制到所需位置"><a href="#5-可以将解压后的tomcat文件复制到所需位置" class="headerlink" title="5. 可以将解压后的tomcat文件复制到所需位置"></a>5. 可以将解压后的tomcat文件复制到所需位置</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos tomcat]# cp -r /usr/tomcat/apache-tomcat-8.5.37 /usr/local/tomcat/</span><br><span class="line">[root@VM_0_5_centos tomcat]# ls /usr/local/tomcat/</span><br><span class="line">apache-tomcat-8.5.37</span><br></pre></td></tr></table></figure>

<h4 id="6-进入bin文件，启动tomcat"><a href="#6-进入bin文件，启动tomcat" class="headerlink" title="6. 进入bin文件，启动tomcat"></a>6. 进入bin文件，启动tomcat</h4><p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/tomcat%E5%90%AF%E5%8A%A8.png" alt="tomcat启动"></p>
<h4 id="7-查看是否启动成功"><a href="#7-查看是否启动成功" class="headerlink" title="7. 查看是否启动成功"></a>7. 查看是否启动成功</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span>访问8080端口出现html代码即启动成功</span><br><span class="line">[root@VM_0_5_centos ~]# curl http://localhost:8080</span><br></pre></td></tr></table></figure>

<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/tomcat%E6%88%90%E5%8A%9F.png" alt="tomcat成功"></p>
<h4 id="8-查看tomcat启动日志"><a href="#8-查看tomcat启动日志" class="headerlink" title="8. 查看tomcat启动日志"></a>8. 查看tomcat启动日志</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos ~]# cd /usr/local/tomcat/apache-tomcat-8.5.37/logs/</span><br><span class="line">[root@VM_0_5_centos logs]# tail -f catalina.out</span><br></pre></td></tr></table></figure>

<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/tomcat%E6%97%A5%E5%BF%97.png" alt="tomcat日志"></p>
<h4 id="9-查看端口监听"><a href="#9-查看端口监听" class="headerlink" title="9. 查看端口监听"></a>9. 查看端口监听</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span>查看所有端口</span><br><span class="line">[root@VM_0_5_centos logs]# netstat -ntlp  </span><br><span class="line"><span class="meta">#</span>查看指定端口</span><br><span class="line">[root@VM_0_5_centos logs]# netstat -an | grep 8080</span><br><span class="line">tcp        0      0 0.0.0.0:8080            0.0.0.0:*               LISTEN</span><br></pre></td></tr></table></figure>

<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/tomcat%E7%AB%AF%E5%8F%A3.png" alt="tomcat端口"></p>
<h4 id="10-本地浏览器打开直接可以远程访问8080端口-本人使用的是腾讯云，其他云可能需要设置一下防火墙，具体情况具体分析"><a href="#10-本地浏览器打开直接可以远程访问8080端口-本人使用的是腾讯云，其他云可能需要设置一下防火墙，具体情况具体分析" class="headerlink" title="10. 本地浏览器打开直接可以远程访问8080端口(本人使用的是腾讯云，其他云可能需要设置一下防火墙，具体情况具体分析)"></a>10. 本地浏览器打开直接可以远程访问8080端口(本人使用的是腾讯云，其他云可能需要设置一下防火墙，具体情况具体分析)</h4><p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/tomcat%E6%9C%AC%E5%9C%B0.png" alt="tomcat本地"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fangchenyong.top/2019/07/23/Linux-install_Tomcat8/" data-id="ckmh9uciq000k3oummf9txvnr" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS/">CentOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tomcat/">Tomcat</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-数据库-Sql Server-sqlserver存储过程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/23/数据库-Sql Server-sqlserver存储过程/" class="article-date">
  <time datetime="2019-07-22T16:00:00.000Z" itemprop="datePublished">2019-07-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/数据库/">数据库</a>►<a class="article-category-link" href="/categories/数据库/SqlServer/">SqlServer</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/23/数据库-Sql Server-sqlserver存储过程/">SqlServer存储过程使用游标循环</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>项目需求描述：</strong></p>
<blockquote>
<p>公司架构：–总公司(LongCode:1)</p>
<p>​                        –子公司A(LongCode:1.1)</p>
<p>​                            –孙公司A1(LongCode:1.1.1)</p>
<p>​                                –A1孙公司项目(LongCode:1.1.1.1)</p>
<p>​                            –孙公司A2(LongCode:1.1.2)</p>
<p>​                            –A公司项目(LongCode:1.1.3)</p>
<p>​                        –子公司B(LongCode:1.2)</p>
<p>​                            –B公司项目(LongCode:1.2.1)</p>
<p>​                        –…</p>
<p>要求：汇总每个子公司下所有项目（包括孙公司的项目）信息，层级关系通过LongCode确定。</p>
<p>​            并且返回多条汇总信息。</p>
</blockquote>
<p><strong>解决方案：</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Create Proc P_GetCompanyNewSign </span><br><span class="line">AS </span><br><span class="line">Begin</span><br><span class="line">	--判断有没有临时表有的话先删除</span><br><span class="line">	if OBJECT_ID(&apos;tempdb..#tblTmp&apos;) is not null drop table #tblTmp;</span><br><span class="line">	--创建存储返回数据的临时表</span><br><span class="line">	create table #tblTmp(</span><br><span class="line">    Name nvarchar(100),FinishedInvestAmount decimal(30,6),ShortName nvarchar(100),EpsProjLongCode nvarchar(100)</span><br><span class="line">	)</span><br><span class="line">	--声明临时变量用来存储循环的LongCode</span><br><span class="line">	Declare @temp varchar(50)</span><br><span class="line">	--声明游标</span><br><span class="line">	declare mycursor cursor</span><br><span class="line">	--获取需要循环的子公司LongC0de</span><br><span class="line">	for(select LongCode from XX where  Name = &apos;子公司&apos;	)</span><br><span class="line">	--开启游标</span><br><span class="line">	open mycursor</span><br><span class="line">	--获取下一个传给临时变量，相当于for循环中的i变量</span><br><span class="line">	fetch next from mycursor into @temp</span><br><span class="line">	--假如检索到了数据继续执行</span><br><span class="line">	while @@FETCH_STATUS = 0</span><br><span class="line">		Begin</span><br><span class="line">			--将一个子公司的数据插入临时表</span><br><span class="line">			insert into #tblTmp select * from XX where LongCode=&apos;1.1&apos;</span><br><span class="line">		--获取下一个传给临时变量，相当于for循环中的i变量</span><br><span class="line">		fetch next from mycursor into @temp</span><br><span class="line">		End</span><br><span class="line">	--关闭释放游标</span><br><span class="line">	close mycursor</span><br><span class="line">	deallocate mycursor</span><br><span class="line">	--查询临时表中的结果集</span><br><span class="line">	select * from #tblTmp;</span><br><span class="line">	--使用完删除临时表</span><br><span class="line">	if OBJECT_ID(&apos;tempdb..#tblTmp&apos;) is not null drop table #tblTmp;</span><br><span class="line">End</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://fangchenyong.top/2019/07/23/数据库-Sql Server-sqlserver存储过程/" data-id="ckmh9uciy000y3oumgokhycol" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SqlServer/">SqlServer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/存储过程/">存储过程</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据库/">数据库</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Linux-install_Redis5.0.3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/23/Linux-install_Redis5.0.3/" class="article-date">
  <time datetime="2019-07-22T16:00:00.000Z" itemprop="datePublished">2019-07-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>►<a class="article-category-link" href="/categories/Linux/CentOS/">CentOS</a>►<a class="article-category-link" href="/categories/Linux/CentOS/Redis/">Redis</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/23/Linux-install_Redis5.0.3/">Centos 7.2 安装目前最新版Redis5.0.3</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Centos-7-2-安装目前最新版Redis5-0-3"><a href="#Centos-7-2-安装目前最新版Redis5-0-3" class="headerlink" title="Centos 7.2 安装目前最新版Redis5.0.3"></a>Centos 7.2 安装目前最新版Redis5.0.3</h2><h4 id="1-下载安装包"><a href="#1-下载安装包" class="headerlink" title="1. 下载安装包"></a>1. 下载安装包</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos redis]# wget http://download.redis.io/releases/redis-5.0.3.tar.gz</span><br></pre></td></tr></table></figure>

<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/redis%E4%B8%8B%E8%BD%BD.png" alt="redis下载"></p>
<h4 id="2-解压安装包"><a href="#2-解压安装包" class="headerlink" title="2. 解压安装包"></a>2. 解压安装包</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos redis]# tar -zxvf redis-5.0.3.tar.gz</span><br></pre></td></tr></table></figure>

<h4 id="3-进入解压后的目录，编译"><a href="#3-进入解压后的目录，编译" class="headerlink" title="3. 进入解压后的目录，编译"></a>3. 进入解压后的目录，编译</h4><blockquote>
<p>redis使用c语言开发的，所以编译依赖gcc环境，先查看是否安装了gcc</p>
</blockquote>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/gcc.png" alt="gcc"></p>
<blockquote>
<p>如果没有安装，先执行安装gcc命令</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos local]# yum -y install gcc-c++</span><br></pre></td></tr></table></figure>

<blockquote>
<p>再进行编译</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos redis]# cd redis-5.0.3/</span><br><span class="line">[root@VM_0_5_centos redis-5.0.3]# make</span><br></pre></td></tr></table></figure>

<h4 id="4-修改配置文件"><a href="#4-修改配置文件" class="headerlink" title="4. 修改配置文件"></a>4. 修改配置文件</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos redis-5.0.3]# ls</span><br><span class="line">00-RELEASENOTES  COPYING  Makefile   redis.conf       runtest-sentinel  tests</span><br><span class="line">BUGS             deps     MANIFESTO  runtest          sentinel.conf     utils</span><br><span class="line">CONTRIBUTING     INSTALL  README.md  runtest-cluster  src</span><br><span class="line">[root@VM_0_5_centos redis-5.0.3]# vim redis.conf </span><br><span class="line"><span class="meta">#</span>修改绑定ip为0.0.0.0，支持远程访问</span><br><span class="line">bind 0.0.0.0</span><br><span class="line"><span class="meta">#</span> 指定日志文件目录</span><br><span class="line">logfile "/usr/local/redis/log/server-out.log"</span><br><span class="line"><span class="meta">#</span> 启用后台启动</span><br><span class="line">daemonize yes</span><br></pre></td></tr></table></figure>

<h4 id="5-启动redis"><a href="#5-启动redis" class="headerlink" title="5. 启动redis"></a>5. 启动redis</h4><blockquote>
<p>进入src目录，用配置文件启动redis</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span>进入src目录</span><br><span class="line">[root@VM_0_5_centos redis-5.0.3]# cd src</span><br><span class="line"><span class="meta">#</span>启动redis</span><br><span class="line">[root@VM_0_5_centos src]# ./redis-server ../redis.conf</span><br></pre></td></tr></table></figure>

<h4 id="6-查看redis是否启动"><a href="#6-查看redis是否启动" class="headerlink" title="6. 查看redis是否启动"></a>6. 查看redis是否启动</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos src]# netstat -nlpt|grep 6379</span><br></pre></td></tr></table></figure>

<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/redis%E5%90%AF%E5%8A%A8.png" alt="redis启动"></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos src]# ps -aux|grep redis</span><br><span class="line">root      7655  0.0  0.5 159456 10264 ?        Ssl  16:41   0:00 ./redis-server 0.0.0.0:6379</span><br><span class="line">root      7971  0.0  0.0 112644   964 pts/0    R+   16:45   0:00 grep --color=auto redis</span><br><span class="line"><span class="meta">#</span>进入redis客户端</span><br><span class="line">[root@VM_0_5_centos src]# ./redis-cli</span><br></pre></td></tr></table></figure>

<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/redis%E5%AE%A2%E6%88%B7%E7%AB%AF.png" alt="redis客户端"></p>
<h4 id="7-给redis添加密码"><a href="#7-给redis添加密码" class="headerlink" title="7. 给redis添加密码"></a>7. 给redis添加密码</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos src]# vim ../redis.conf </span><br><span class="line"><span class="meta">#</span>命令行状态/requirepass 按回车查找 ，n查找下一个，添加下面一行</span><br><span class="line">requirepass 123456</span><br></pre></td></tr></table></figure>

<h4 id="8-重启redis"><a href="#8-重启redis" class="headerlink" title="8. 重启redis"></a>8. 重启redis</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span>关闭客户端</span><br><span class="line">[root@VM_0_5_centos src]# ./redis-cli shutdown</span><br><span class="line"><span class="meta">#</span>重启redis服务</span><br><span class="line">[root@VM_0_5_centos src]# ./redis-server ../redis.conf </span><br><span class="line"><span class="meta">#</span>重新连接客户端（没有权限访问）</span><br><span class="line">[root@VM_0_5_centos src]# ./redis-cli </span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(error) NOAUTH Authentication required.</span><br><span class="line"><span class="meta">#</span>密码登录</span><br><span class="line">[root@VM_0_5_centos src]# ./redis-cli -a 123456</span><br><span class="line">Warning: Using a password with '-a' or '-u' option on the command line interface may not be safe.</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) "name"</span><br></pre></td></tr></table></figure>

<h4 id="9-SpringBoot连接redis"><a href="#9-SpringBoot连接redis" class="headerlink" title="9. SpringBoot连接redis"></a>9. SpringBoot连接redis</h4><blockquote>
<p>引入maven依赖</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--整合单机版redis--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.1.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>添加配置</p>
</blockquote>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span> </span><br><span class="line"><span class="attr">  redis:</span></span><br><span class="line"><span class="attr">    database:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">    host:</span> <span class="number">118.25</span><span class="number">.24</span><span class="number">.23</span></span><br><span class="line"><span class="attr">    port:</span> <span class="number">6379</span></span><br><span class="line"><span class="attr">    password:</span> <span class="number">123456</span></span><br><span class="line"><span class="attr">    jedis:</span></span><br><span class="line"><span class="attr">      pool:</span></span><br><span class="line"><span class="attr">        max-active:</span> <span class="number">8</span></span><br><span class="line"><span class="attr">        max-wait:</span> <span class="bullet">-1</span></span><br><span class="line"><span class="attr">        max-idle:</span> <span class="number">8</span></span><br><span class="line"><span class="attr">        min-idle:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">    timeout:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>启动类开启缓存</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableCaching</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringApp</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(SpringApp.class,args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>service实现类中的方法添加@Cacheable接口</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Cacheable</span>(value=<span class="string">"mybook"</span>)</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Books <span class="title">getBooksById</span><span class="params">(Integer id)</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"从数据库中查询。。。"</span>);</span><br><span class="line">    <span class="keyword">return</span> booksMapper.getBooksById(id);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>bean未序列化报错解决</p>
<p>解决办法：Bean类实现Serializable接口</p>
</blockquote>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/redis%E7%BC%93%E5%AD%98%E6%8A%A5%E9%94%99.png" alt="redis缓存报错"></p>
<blockquote>
<p>单机版部署成功</p>
<p>执行两次查询，输出一次</p>
</blockquote>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/redis%E6%88%90%E5%8A%9F.png" alt="redis成功"></p>
<blockquote>
<p>查看redis客户端</p>
</blockquote>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/redis%E6%9C%8D%E5%8A%A1%E5%99%A8.png" alt="redis服务器"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fangchenyong.top/2019/07/23/Linux-install_Redis5.0.3/" data-id="ckmh9ucip000j3oum8zcg8exq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS/">CentOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Redis/">Redis</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-数据库-Sql Server-sqlserver数据库备份还原" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/23/数据库-Sql Server-sqlserver数据库备份还原/" class="article-date">
  <time datetime="2019-07-22T16:00:00.000Z" itemprop="datePublished">2019-07-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/数据库/">数据库</a>►<a class="article-category-link" href="/categories/数据库/SqlServer/">SqlServer</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/23/数据库-Sql Server-sqlserver数据库备份还原/">SqlServer 备份还原</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="SqlServer-备份"><a href="#SqlServer-备份" class="headerlink" title="SqlServer 备份"></a>SqlServer 备份</h2><ol>
<li><p>右键数据库，选择任务–&gt;备份</p>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/20190725120751.jpg" alt="备份"></p>
</li>
<li><p>在常规选项中，选择要备份的文件路径及名称</p>
<ul>
<li>清空原先备份的文件路径</li>
<li>点击添加，选择磁盘文件目录</li>
<li>可先选中一个备份文件，然后再修改文件名</li>
</ul>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/20190725130924.png" alt="备份2"></p>
</li>
<li><p>确定后会添加到图中选中部分，点击确定，备份完成。</p>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/20190725103541.jpg" alt="备份3"></p>
<h2 id="SqlServer还原"><a href="#SqlServer还原" class="headerlink" title="SqlServer还原"></a>SqlServer还原</h2><ol>
<li><p>将还原的.bak文件拷贝至服务器</p>
</li>
<li><p>右键要还原的数据库，选择任务–&gt;还原–&gt;数据库</p>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/20190725110916.png" alt="还原"></p>
</li>
<li><p>左边选择常规，源选择设备，添加文件，选择刚才拷贝的备份文件</p>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/20190725111102.jpg" alt="备份2"></p>
</li>
<li><p>如果已经存在数据库，直接左边选择选项，勾选覆盖现有数据库，确定即可。</p>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/20190725111200.jpg" alt="备份3"></p>
</li>
</ol>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fangchenyong.top/2019/07/23/数据库-Sql Server-sqlserver数据库备份还原/" data-id="ckmh9uciz00103oumeqp0fmh1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SqlServer/">SqlServer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据库/">数据库</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Linux-install_ActiveMQ" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/23/Linux-install_ActiveMQ/" class="article-date">
  <time datetime="2019-07-22T16:00:00.000Z" itemprop="datePublished">2019-07-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>►<a class="article-category-link" href="/categories/Linux/CentOS/">CentOS</a>►<a class="article-category-link" href="/categories/Linux/CentOS/ActiveMQ/">ActiveMQ</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/23/Linux-install_ActiveMQ/">CentOS 7.2安装ActiveMQ 5.14.5</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="CentOS-7-2安装ActiveMQ-5-14-5"><a href="#CentOS-7-2安装ActiveMQ-5-14-5" class="headerlink" title="CentOS 7.2安装ActiveMQ 5.14.5"></a>CentOS 7.2安装ActiveMQ 5.14.5</h2><h4 id="1-下载安装包"><a href="#1-下载安装包" class="headerlink" title="1. 下载安装包"></a>1. 下载安装包</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos activemq]# wget http://apache.fayea.com/activemq/5.14.5/apache-activemq-5.14.5-bin.tar.gz</span><br></pre></td></tr></table></figure>

<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/activemq%E4%B8%8B%E8%BD%BD.png" alt="img"></p>
<blockquote>
<p>具体版本下载可进入<a href="http://apache.fayea.com/activemq/查看" target="_blank" rel="noopener">http://apache.fayea.com/activemq/查看</a></p>
</blockquote>
<h4 id="2-解压压缩包"><a href="#2-解压压缩包" class="headerlink" title="2. 解压压缩包"></a>2. 解压压缩包</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos activemq]# tar -zxvf apache-activemq-5.14.5-bin.tar.gz</span><br></pre></td></tr></table></figure>

<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/activemq%E8%A7%A3%E5%8E%8B.png" alt="img"></p>
<h4 id="3-进入bin文件下的Linux文件下启动"><a href="#3-进入bin文件下的Linux文件下启动" class="headerlink" title="3. 进入bin文件下的Linux文件下启动"></a>3. 进入bin文件下的Linux文件下启动</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos activemq]# ls</span><br><span class="line">apache-activemq-5.14.5  apache-activemq-5.14.5-bin.tar.gz</span><br><span class="line">[root@VM_0_5_centos activemq]# cd apache-activemq-5.14.5/</span><br><span class="line">[root@VM_0_5_centos apache-activemq-5.14.5]# ls</span><br><span class="line">activemq-all-5.14.5.jar  conf  docs      lib      NOTICE      webapps</span><br><span class="line">bin                      data  examples  LICENSE  README.txt  webapps-demo</span><br><span class="line">[root@VM_0_5_centos apache-activemq-5.14.5]# cd bin/linux-x86-64/</span><br><span class="line">[root@VM_0_5_centos linux-x86-64]# ./activemq start</span><br><span class="line">Starting ActiveMQ Broker...</span><br></pre></td></tr></table></figure>

<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/activemq%E5%90%AF%E5%8A%A8.png" alt="img"></p>
<h4 id="4-查看启动状态"><a href="#4-查看启动状态" class="headerlink" title="4. 查看启动状态"></a>4. 查看启动状态</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span>activemq未启动</span><br><span class="line">[root@VM_0_5_centos bin]# ps -ef|grep activemq</span><br><span class="line">root      2756 25178  0 16:44 pts/0    00:00:00 grep --color=auto activemq</span><br></pre></td></tr></table></figure>

<h4 id="5-查看启动日志，解决报错"><a href="#5-查看启动日志，解决报错" class="headerlink" title="5. 查看启动日志，解决报错"></a>5. 查看启动日志，解决报错</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos bin]# ./activemq console</span><br></pre></td></tr></table></figure>

<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/activemq%E5%A4%B1%E8%B4%A5%E5%8E%9F%E5%9B%A0.png" alt="img"></p>
<ol>
<li><strong>报错原因</strong>-服务器主机名有下划线存在特殊字符</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ERROR | Failed to start Apache ActiveMQ ([localhost, ID:VM_0_5_centos-39529-1548405340021-0:1], java.net.URISyntaxException: Illegal character in hostname at index 7: ws://VM_0_5_centos:61614?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>修改conf目录下的activemq.xml文件</strong></li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos bin]# cd ..</span><br><span class="line">[root@VM_0_5_centos apache-activemq-5.14.5]# cd conf/</span><br><span class="line">[root@VM_0_5_centos conf]# ls</span><br><span class="line">activemq.xml           client.ks                   groups.properties       jmx.access          login.config</span><br><span class="line">broker.ks              client.ts                   java.security           jmx.password        users.properties</span><br><span class="line">broker-localhost.cert  credentials-enc.properties  jetty-realm.properties  log4j.properties</span><br><span class="line">broker.ts              credentials.properties      jetty.xml               logging.properties</span><br><span class="line">[root@VM_0_5_centos conf]# vim activemq.xml </span><br><span class="line"><span class="meta">#</span>将127.0.0.1修改为0.0.0.0 【重新改为0.0.0.0 否则后续远程连接访问报错】</span><br></pre></td></tr></table></figure>

<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/activemq%E5%A4%B1%E8%B4%A5%E4%BF%AE%E6%94%B9.png" alt="img"></p>
<ol start="3">
<li><p><strong>始终报错，修改etc/hosts文件，删除映射到VM_0_5_centos的配置</strong></p>
<blockquote>
<p><strong>hostnamectl set-hostname  XXX</strong></p>
<p>或者直接设置host名称然后reboot重启</p>
</blockquote>
</li>
<li><p><strong>重新启动，运行activemq，查看运行状态</strong></p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos bin]# ./activemq status</span><br><span class="line">INFO: Loading '/usr/local/activemq/apache-activemq-5.14.5//bin/env'</span><br><span class="line">INFO: Using java '/usr/java/jdk1.8.0_192/bin/java'</span><br><span class="line">ActiveMQ is running (pid '3941')</span><br></pre></td></tr></table></figure>

<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/activemq%E6%88%90%E5%8A%9F.png" alt="img"></p>
<ol start="5">
<li><strong>访问8161管理员页面,使用配置的账号密码登录</strong></li>
</ol>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/activemq%E6%88%90%E5%8A%9F1.png" alt="activemq成功"></p>
<ol start="6">
<li><strong>进入conf文件夹下配置文件，修改密码</strong></li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@VM_0_5_centos apache-activemq-5.14.5]# cd conf/</span><br><span class="line">[root@VM_0_5_centos conf]# ls</span><br><span class="line">activemq.xml           client.ks                   groups.properties       jmx.access          login.config</span><br><span class="line">broker.ks              client.ts                   java.security           jmx.password        users.properties</span><br><span class="line">broker-localhost.cert  credentials-enc.properties  jetty-realm.properties  log4j.properties</span><br><span class="line">broker.ts              credentials.properties      jetty.xml               logging.properties</span><br><span class="line">[root@VM_0_5_centos conf]# vim jetty-realm.properties</span><br></pre></td></tr></table></figure>

<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/activemq%E5%AF%86%E7%A0%81.png" alt="img"></p>
<h4 id="6-SpringBoot整合ActiveMQ"><a href="#6-SpringBoot整合ActiveMQ" class="headerlink" title="6. SpringBoot整合ActiveMQ"></a>6. SpringBoot整合ActiveMQ</h4><ol>
<li>maven引入jar包</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--整合activemq--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-activemq<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>编辑配置文件</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span>    </span><br><span class="line"><span class="attr">  activemq:</span></span><br><span class="line"><span class="attr">    broker-url:</span> <span class="attr">tcp://IP+端口号61616</span></span><br><span class="line"><span class="attr">    in-memory:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    user:</span> <span class="string">admin</span></span><br><span class="line"><span class="attr">    password:</span> <span class="string">admin</span></span><br><span class="line"><span class="attr">    pool:</span></span><br><span class="line"><span class="attr">      enabled:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>window客户端可使用telnet 命令查看端口是否可以访问</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">telnet IP 端口号 例：telnet 127.0.0.1 8080</span><br></pre></td></tr></table></figure>
</li>
<li><p>编写服务提供方</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.joey.activemq;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jms.core.JmsMessagingTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> javax.jms.Destination;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 〈服务者〉</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Joey</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2019-01-28</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 1.0.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Producer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JmsMessagingTemplate jmsMessagingTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendMessage</span><span class="params">(Destination destination, <span class="keyword">final</span> String message)</span></span>&#123;</span><br><span class="line">        jmsMessagingTemplate.convertAndSend(destination, message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>编写消费方</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.joey.activemq;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jms.annotation.JmsListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 〈消费者〉</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Joey</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2019-01-29</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 1.0.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Consumer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JmsListener</span>(destination = <span class="string">"myqueues"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receiveMsg</span><span class="params">(String message)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"message:"</span>+message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>编写控制器</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.joey.controller;</span><br><span class="line"><span class="keyword">import</span> com.joey.activemq.Producer;</span><br><span class="line"><span class="keyword">import</span> org.apache.activemq.command.ActiveMQQueue;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"><span class="keyword">import</span> javax.jms.Destination;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ActiveMQController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Producer producer;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/activemq"</span>)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">tests</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Destination destination = <span class="keyword">new</span> ActiveMQQueue(<span class="string">"myqueues"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">3</span>;i++) &#123;</span><br><span class="line">            producer.sendMessage(destination, <span class="string">"hello world! 第"</span>+i+<span class="string">"次"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>访问成功</p>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/activemq%E6%88%90%E5%8A%9F2.png" alt="activemq成功"></p>
</li>
</ol>
<p><img src="https://fangchenyong.oss-cn-hangzhou.aliyuncs.com/img/activemq%E6%88%90%E5%8A%9F3.png" alt="activemq成功"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fangchenyong.top/2019/07/23/Linux-install_ActiveMQ/" data-id="ckmh9ucic00083oumog7bm2b0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ActiveMQ/">ActiveMQ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS/">CentOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; 上一页</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/SpringBoot/">SpringBoot</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/SpringBoot/netty/">netty</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/源码/">源码</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/源码/Object/">Object</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/源码/String/">String</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/Jsplumb/">Jsplumb</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/CentOS/">CentOS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/CentOS/ActiveMQ/">ActiveMQ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/CentOS/FastDFS/">FastDFS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/CentOS/FastDFS/nginx/">nginx</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/CentOS/JDK/">JDK</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/CentOS/MongoDB/">MongoDB</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/CentOS/MySql/">MySql</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/CentOS/Redis/">Redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/CentOS/Tomcat/">Tomcat</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/CentOS/zigw/">zigw</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Oracle/">Oracle</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Oracle/正则表达式/">正则表达式</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Maven/">Maven</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/My-Java-Life/">My Java Life</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mybatis/">Mybatis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ORM/">ORM</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ORM/Hibernate/">Hibernate</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Redis/">Redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/">Spring</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/地图/">地图</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/地图/腾讯地图/">腾讯地图</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/地图/高德地图/">高德地图</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/Oracle/">Oracle</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/SqlServer/">SqlServer</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构/">数据结构</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构/数组/">数组</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构/数组/稀疏数组/">稀疏数组</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构/环形队列/">环形队列</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/">设计模式</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/创建型模式/">创建型模式</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/创建型模式/单例模式/">单例模式</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/设计原则/">设计原则</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/面试题/">面试题</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/面试题/集合/">集合</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/项目/">项目</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/项目/方兴商城/">方兴商城</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ActiveMQ/">ActiveMQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CentOS/">CentOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FastDFS/">FastDFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hibernate/">Hibernate</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JDK/">JDK</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jsplumb/">Jsplumb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maven/">Maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MongoDB/">MongoDB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/My-Java-Life/">My Java Life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySql/">MySql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis/">Mybatis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ORM/">ORM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Object/">Object</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle/">Oracle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/">Redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/">Spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/">SpringBoot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SqlServer/">SqlServer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/String/">String</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tomcat/">Tomcat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/netty/">netty</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zigw/">zigw</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/二维码/">二维码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/创建型模式/">创建型模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/单例模式/">单例模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/地图/">地图</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/存储过程/">存储过程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数组/">数组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/正则表达式/">正则表达式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/源码/">源码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/环形队列/">环形队列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/稀疏数组/">稀疏数组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/腾讯地图/">腾讯地图</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计原则/">设计原则</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/集合/">集合</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面试题/">面试题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/高德地图/">高德地图</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/ActiveMQ/" style="font-size: 10px;">ActiveMQ</a> <a href="/tags/CentOS/" style="font-size: 18.33px;">CentOS</a> <a href="/tags/FastDFS/" style="font-size: 10px;">FastDFS</a> <a href="/tags/Hibernate/" style="font-size: 10px;">Hibernate</a> <a href="/tags/JDK/" style="font-size: 10px;">JDK</a> <a href="/tags/Java/" style="font-size: 16.67px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 13.33px;">JavaScript</a> <a href="/tags/Jsplumb/" style="font-size: 10px;">Jsplumb</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/My-Java-Life/" style="font-size: 10px;">My Java Life</a> <a href="/tags/MySQL/" style="font-size: 11.67px;">MySQL</a> <a href="/tags/MySql/" style="font-size: 10px;">MySql</a> <a href="/tags/Mybatis/" style="font-size: 10px;">Mybatis</a> <a href="/tags/ORM/" style="font-size: 10px;">ORM</a> <a href="/tags/Object/" style="font-size: 10px;">Object</a> <a href="/tags/Oracle/" style="font-size: 11.67px;">Oracle</a> <a href="/tags/Redis/" style="font-size: 13.33px;">Redis</a> <a href="/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/tags/SpringBoot/" style="font-size: 11.67px;">SpringBoot</a> <a href="/tags/SqlServer/" style="font-size: 11.67px;">SqlServer</a> <a href="/tags/String/" style="font-size: 10px;">String</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/netty/" style="font-size: 10px;">netty</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/zigw/" style="font-size: 10px;">zigw</a> <a href="/tags/二维码/" style="font-size: 10px;">二维码</a> <a href="/tags/创建型模式/" style="font-size: 10px;">创建型模式</a> <a href="/tags/单例模式/" style="font-size: 10px;">单例模式</a> <a href="/tags/地图/" style="font-size: 11.67px;">地图</a> <a href="/tags/存储过程/" style="font-size: 10px;">存储过程</a> <a href="/tags/数据库/" style="font-size: 15px;">数据库</a> <a href="/tags/数据结构/" style="font-size: 11.67px;">数据结构</a> <a href="/tags/数组/" style="font-size: 10px;">数组</a> <a href="/tags/正则表达式/" style="font-size: 10px;">正则表达式</a> <a href="/tags/源码/" style="font-size: 11.67px;">源码</a> <a href="/tags/环形队列/" style="font-size: 10px;">环形队列</a> <a href="/tags/稀疏数组/" style="font-size: 10px;">稀疏数组</a> <a href="/tags/腾讯地图/" style="font-size: 10px;">腾讯地图</a> <a href="/tags/设计原则/" style="font-size: 10px;">设计原则</a> <a href="/tags/设计模式/" style="font-size: 11.67px;">设计模式</a> <a href="/tags/集合/" style="font-size: 10px;">集合</a> <a href="/tags/面试题/" style="font-size: 10px;">面试题</a> <a href="/tags/高德地图/" style="font-size: 10px;">高德地图</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/03/20/面试-集合/">面试题-集合框架</a>
          </li>
        
          <li>
            <a href="/2021/03/13/The Road To Bald Man!/">The Road To Bald Man!</a>
          </li>
        
          <li>
            <a href="/2020/07/21/框架-Maven-配置标签详解/">Maven配置标签详解</a>
          </li>
        
          <li>
            <a href="/2020/07/13/设计模式-七大原则/">设计模式-七大设计原则</a>
          </li>
        
          <li>
            <a href="/2020/07/13/设计模式-创建型模式-单例模式/">设计模式-创建型模式-单例模式</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 fangchenyong<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>